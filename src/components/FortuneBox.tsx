import { useState } from "react";
import confetti from "canvas-confetti";
import "../styles/Community.css"; 

const fortunes = [
  "ğŸ’° ì˜¤ëŠ˜ì€ ìì‚°ì„ ì§€í‚¤ëŠ” ë° ì§‘ì¤‘í•˜ë©´ ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤.",
  "ğŸ¡ ìµìˆ™í•œ ë™ë„¤ì—ì„œ ì˜ˆìƒë³´ë‹¤ ê´œì°®ì€ ë§¤ë¬¼ì„ ë°œê²¬í•  ìˆ˜ ìˆì–´ìš”.",
  "ğŸ” ì‘ì€ ì •ë³´ í•˜ë‚˜ê°€ í° ì§€ì¶œì„ ë§‰ì•„ì¤„ ìˆ˜ ìˆì–´ìš”.",
  "ğŸ“‰ ì§€ê¸ˆì€ ì„œë‘ë¥´ê¸°ë³´ë‹¤ ë¹„êµí•˜ê³  ê¸°ë‹¤ë¦¬ëŠ” ê²Œ í˜„ëª…í•©ë‹ˆë‹¤.",
  "ğŸ§¾ ì§€ì¶œì„ ëŒì•„ë³´ë©´ ë¶ˆí•„ìš”í•œ êµ¬ë…ì´ë‚˜ ë‚­ë¹„ê°€ ë³´ì¼ ìˆ˜ ìˆì–´ìš”.",
  "ğŸ’³ í• ë¶€ë³´ë‹¨ ê³„íšëœ ì§€ì¶œì´ ì˜¤ëŠ˜ì˜ ìš´ì„ ì§€ì¼œì¤ë‹ˆë‹¤.",
  "ğŸ“ ì˜¤ëŠ˜ì€ ìœ„ì¹˜ì™€ ì£¼ë³€ í™˜ê²½ì„ ê¼¼ê¼¼íˆ ì‚´í´ë³´ì„¸ìš”.",
  "ğŸ“„ ê³„ì•½ ê´€ë ¨ ì„œë¥˜ë¥¼ ë‹¤ì‹œ í•œ ë²ˆ ì ê²€í•´ë³´ë©´ ì¢‹ìŠµë‹ˆë‹¤.",
  "ğŸª™ ì§€ê¸ˆ ì“°ëŠ” ëˆë³´ë‹¤ ë‹¤ìŒ ë‹¬ì„ ìœ„í•œ ì¤€ë¹„ê°€ í•„ìš”í•œ ë‚ ì´ì—ìš”.",
  "ğŸ‘€ ì§€ë‚˜ì¹˜ê¸° ì‰¬ìš´ ì¡°ê±´ ì†ì— í•µì‹¬ ì •ë³´ê°€ ìˆ¨ì–´ ìˆì„ ìˆ˜ ìˆì–´ìš”.",
  "ğŸ’¬ ì£¼ë³€ ì¡°ì–¸ë³´ë‹¤ ë‚´ íŒë‹¨ì„ ë¯¿ì–´ì•¼ í•  ë•Œì…ë‹ˆë‹¤.",
  "ğŸ¦ ëŒ€ì¶œ ì¡°ê±´ì„ ë¹„êµí•´ë³´ë©´ ìƒê°ë³´ë‹¤ ìœ ë¦¬í•œ ì¡°ê±´ì´ ìˆì„ ìˆ˜ ìˆì–´ìš”.",
  "ğŸ“¦ ì˜¤ëŠ˜ì€ ìƒˆë¡œìš´ ì§‘ë³´ë‹¤ëŠ” í˜„ì¬ í™˜ê²½ì„ ì •ë¹„í•˜ëŠ” ë° ìš´ì´ ìˆìŠµë‹ˆë‹¤.",
  "ğŸ“² ì•± ì•Œë¦¼ì„ ì£¼ì˜ ê¹Šê²Œ ë³´ë©´ ê´œì°®ì€ ë§¤ë¬¼ì„ ë§ˆì£¼ì¹  ìˆ˜ ìˆì–´ìš”.",
  "ğŸ“ˆ ë¶€ë™ì‚° ì‹œì¥ íë¦„ë³´ë‹¤ëŠ” ë‚´ ìƒí™©ì— ë§ëŠ” ì„ íƒì´ ì¤‘ìš”í•´ìš”.",
  "ğŸšª ì˜¤ëŠ˜ì€ ì§‘ ì•ˆ ì •ë¦¬ë¥¼ í•˜ë©´ ê¸ˆì „ìš´ì´ ë“¤ì–´ì˜¬ ìˆ˜ ìˆì–´ìš”.",
  "ğŸ’¡ ê³„ì•½ ì „ ë§ˆì§€ë§‰ í™•ì¸, ì˜¤ëŠ˜ë§Œí¼ì€ ê¼­ ë†“ì¹˜ì§€ ë§ˆì„¸ìš”.",
  "ğŸ§­ ë‚´ê°€ ì•„ëŠ” ì§€ì—­ì´ ê°€ì¥ ì•ˆì „í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
  "ğŸ§¾ ì˜¤ëŠ˜ì€ ì‹¤ê±°ì£¼ ê¸°ì¤€ìœ¼ë¡œ íŒë‹¨í•˜ë©´ í›„íšŒê°€ ì—†ìŠµë‹ˆë‹¤.",
  "ğŸ—“ï¸ ì¡°ê¸‰í•œ ê²°ì •ì€ í”¼í•˜ê³ , ì—¬ìœ ë¥¼ ê°–ëŠ” ê²Œ í–‰ìš´ì„ ë¶€ë¦…ë‹ˆë‹¤.",
  "ğŸ“¬ ëœ»ë°–ì˜ ì—°ë½ì´ ì¢‹ì€ ì†Œì‹ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆì–´ìš”.",
  "ğŸ’¼ ì˜¤ëŠ˜ì€ ë¶€ë™ì‚° ê´€ë ¨ ê³µë¶€ë‚˜ ì •ë³´ ìˆ˜ì§‘ì— ì¢‹ì€ ë‚ ì…ë‹ˆë‹¤.",
  "ğŸ‘£ ë°œí’ˆì„ íŒ”ë©´ ê·¸ë§Œí¼ ê²°ê³¼ë¡œ ëŒì•„ì˜¤ëŠ” ìš´ì„¸ì…ë‹ˆë‹¤.",
  "ğŸ“‘ ê¼¼ê¼¼íˆ ë”°ì§€ëŠ” í•˜ë£¨ê°€ ì¥ê¸°ì ìœ¼ë¡œ í° ëˆì„ ì§€ì¼œì¤„ ìˆ˜ ìˆì–´ìš”.",
  "ğŸ”‘ ì˜¤ëŠ˜ì€ â€˜ì•ˆì •ì„±â€™ì´ë¼ëŠ” í‚¤ì›Œë“œì— ì§‘ì¤‘í•˜ì„¸ìš”.",
  "ğŸ‘› ì‘ì€ ì ˆì•½ì´ í° ë§Œì¡±ìœ¼ë¡œ ì´ì–´ì§€ëŠ” ë‚ ì…ë‹ˆë‹¤.",
  "ğŸ“‰ ê³„ì•½ì„œì˜ ì‘ì€ ê¸€ì”¨ ì•ˆì— ì¤‘ìš”í•œ ì¡°ê±´ì´ ìˆ¨ì–´ ìˆì„ ìˆ˜ ìˆì–´ìš”.",
  "ğŸ  ì˜¤ëŠ˜ì€ ë‚˜ì—ê²Œ ë§ëŠ” ì§‘ì˜ ê¸°ì¤€ì„ ë‹¤ì‹œ ì •ë¦¬í•´ë³´ë©´ ì¢‹ìŠµë‹ˆë‹¤.",
  "ğŸ’¬ ì»¤ë®¤ë‹ˆí‹° ì† ê²½í—˜ë‹´ì—ì„œ ìœ ìš©í•œ ì •ë³´ê°€ ë‚˜ì˜¬ ìˆ˜ ìˆì–´ìš”.",
  "ğŸŒ• ì˜¤ëŠ˜ì˜ ìš´ì€ 'ì‹ ì¤‘í•¨'ì— ë‹¬ë ¤ ìˆìŠµë‹ˆë‹¤."
];

export default function FortuneBox() {
  const [revealed, setRevealed] = useState(false);
  const [fortune, setFortune] = useState("");

  const revealFortune = () => {
    if (!revealed) {
      const random = fortunes[Math.floor(Math.random() * fortunes.length)];
      setFortune(random);
      setRevealed(true);

      confetti({
        particleCount: 100,
        spread: 80,
        startVelocity: 35,
        origin: { x: 0.65, y: 0.95 },
        zIndex: 1000,
      });
        }
      };

  return (
    <div className={`fortune-box ${revealed ? "revealed" : ""}`} onClick={revealFortune}>
      {revealed ? fortune : "ğŸ’« ì˜¤ëŠ˜ì˜ ê¸ˆì „ìš´ì„ ë½‘ì•„ë³´ì„¸ìš”"}

      {revealed && <div className="petal-effect" />}
    </div>
  );
}
